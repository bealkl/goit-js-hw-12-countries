{"version":3,"sources":["webpack:///./index.js"],"names":["refs","inputCountry","document","querySelector","listContry","addEventListener","_","debounce","value","fetch","then","result","json","data","items","innerHTML","length","PNotify","alert","title","text","langList","languages","map","item","name","join","insertAdjacentHTML","capital","population","flag","showCountries"],"mappings":"2FAAA,uGAMMA,EAAO,CACXC,aAAcC,SAASC,cAAc,iBACrCC,WAAYF,SAASC,cAAc,iBAErCH,EAAKC,aAAaI,iBAAiB,QAASC,IAAEC,UAE9C,WACE,GAA+B,IAA3BP,EAAKC,aAAaO,MAAa,OACnCC,MAAM,yCAAyCT,EAAKC,aAAaO,OAC9DE,MAAK,SAAAC,GAAM,OAAIA,EAAOC,UACtBF,MAAK,SAAAG,GAAI,OAGd,SAAuBC,GAErB,GADAd,EAAKI,WAAWW,UAAY,GACxBD,EAAME,OAAS,GAKjB,YAJAC,IAAQC,MAAM,CACZC,MAAO,oBACPC,KAAM,6CAIV,GAAqB,IAAjBN,EAAME,OAAc,CACtB,IAAMK,EAAWP,EAAM,GAAGQ,UAAUC,KAAI,SAAAC,GAAI,aAAWA,EAAKC,KAAhB,WAA6BC,KAAK,IAC9E1B,EAAKI,WAAWuB,mBACd,YADF,OAESb,EAAM,GAAGW,KAFlB,wEAE8FX,EAAM,GAAGc,QAFvG,6BAE2Id,EAAM,GAAGe,WAFpJ,6BAE2LR,EAF3L,wBAE2NP,EAAM,GAAGgB,KAFpO,UAEkPhB,EAAM,GAAGc,QAF3P,sBAKA5B,EAAKI,WAAWuB,mBAAmB,YAAab,EAAMS,KAAI,SAAAC,GAAI,aAAWA,EAAKC,KAAhB,WAA6BC,KAAK,KAnBlFK,CAAclB,QANuC,Q","file":"main.372d79ca5b6fb698c127.js","sourcesContent":["'use strict';\r\n\r\n// import '@pnotify/core/dist/BrightTheme.css';\r\nimport _ from 'lodash';\r\nimport PNotify from '@pnotify/core/dist/PNotify.js';\r\n\r\nconst refs = {\r\n  inputCountry: document.querySelector('#inputCountry'),\r\n  listContry: document.querySelector('#listCountry'),\r\n};\r\nrefs.inputCountry.addEventListener('input', _.debounce(fetchCountries, 500));\r\n\r\nfunction fetchCountries() {\r\n  if (refs.inputCountry.value == '') return;\r\n  fetch(`https://restcountries.eu/rest/v2/name/${refs.inputCountry.value}`)\r\n    .then(result => result.json())\r\n    .then(data => showCountries(data));\r\n}\r\n\r\nfunction showCountries(items) {\r\n  refs.listContry.innerHTML = '';\r\n  if (items.length > 10) {\r\n    PNotify.alert({\r\n      title: 'Запрос не найден!',\r\n      text: 'Пожалуйста, введите более точный запрос.',\r\n    });\r\n    return;\r\n  }\r\n  if (items.length === 1) {\r\n    const langList = items[0].languages.map(item => `<li>${item.name}</li>`).join('');\r\n    refs.listContry.insertAdjacentHTML(\r\n      'beforeend',\r\n      `<h1>${items[0].name}</h1><div id=\"countryBlock\"><div id=\"infoCountry\"><p><b>Capital: </b>${items[0].capital}</p><p><b>Population: </b>${items[0].population}</p><ul><b>Languages: </b>${langList}</ul></div><img src=\"${items[0].flag}\" alt=\"${items[0].capital}_flag\"></div>`,\r\n    );\r\n  } else {\r\n    refs.listContry.insertAdjacentHTML('beforeend', items.map(item => `<li>${item.name}</li>`).join(''));\r\n  }\r\n}\r\n"],"sourceRoot":""}