{"version":3,"sources":["webpack:///./index.js"],"names":["refs","inputCountry","document","listContry","_","fetch","result","data","items","PNotify","title","text","langList","item","showCountries"],"mappings":"2IAAA,qIAQMA,EAAO,CACXC,aAAcC,uBADH,iBAEXC,WAAYD,wCAEdF,wCAA4CI,cAE5C,WACE,OAAIJ,qBAA+B,OACnCK,MAAM,yCAAyCL,eAA/CK,aACQ,SAAAC,GAAM,OAAIA,EAAJ,UADdD,MAEQ,SAAAE,GAAI,OAGd,SAAuBC,GAErB,GADAR,0BACIQ,SAAJ,GAKE,YAJAC,UAAc,CACZC,MADY,oBAEZC,KAAM,6CAIV,OAAIH,SAAoB,CACtB,IAAMI,EAAWJ,EAAA,kBAAuB,SAAAK,GAAI,aAAWA,EAAX,gBAA3B,KAAjB,IACAb,mDAESQ,KAFTR,6EAE8FQ,KAF9FR,qCAE2IQ,KAF3IR,kEAE2NQ,KAF3NR,eAEkPQ,KAFlPR,8BAKAA,4CAAgDQ,EAAA,KAAU,SAAAK,GAAI,aAAWA,EAAX,gBAAd,KAAhDb,KAnBcc,CAAJ,QANdd,Q","file":"main.01ebcc823137d9449b64.js","sourcesContent":["'use strict';\r\n\r\nimport './normalize.css';\r\nimport './style.css';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\nimport _ from 'lodash';\r\nimport PNotify from '@pnotify/core/dist/PNotify.js';\r\n\r\nconst refs = {\r\n  inputCountry: document.querySelector('#inputCountry'),\r\n  listContry: document.querySelector('#listCountry'),\r\n};\r\nrefs.inputCountry.addEventListener('input', _.debounce(fetchCountries, 500));\r\n\r\nfunction fetchCountries() {\r\n  if (refs.inputCountry.value == '') return;\r\n  fetch(`https://restcountries.eu/rest/v2/name/${refs.inputCountry.value}`)\r\n    .then(result => result.json())\r\n    .then(data => showCountries(data));\r\n}\r\n\r\nfunction showCountries(items) {\r\n  refs.listContry.innerHTML = '';\r\n  if (items.length > 10) {\r\n    PNotify.alert({\r\n      title: 'Запрос не найден!',\r\n      text: 'Пожалуйста, введите более точный запрос.',\r\n    });\r\n    return;\r\n  }\r\n  if (items.length === 1) {\r\n    const langList = items[0].languages.map(item => `<li>${item.name}</li>`).join('');\r\n    refs.listContry.insertAdjacentHTML(\r\n      'beforeend',\r\n      `<h1>${items[0].name}</h1><div id=\"countryBlock\"><div id=\"infoCountry\"><p><b>Capital: </b>${items[0].capital}</p><p><b>Population: </b>${items[0].population}</p><ul><b>Languages: </b>${langList}</ul></div><img src=\"${items[0].flag}\" alt=\"${items[0].capital}_flag\"></div>`,\r\n    );\r\n  } else {\r\n    refs.listContry.insertAdjacentHTML('beforeend', items.map(item => `<li>${item.name}</li>`).join(''));\r\n  }\r\n}\r\n"],"sourceRoot":""}